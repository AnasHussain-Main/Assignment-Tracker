<%- include('../partials/header') %>

<main class="collection-page">
  <h2>Assignment Collection</h2>

  <!-- List of Assignments -->
  <section class="assignment-list">
    <% if (assignments.length > 0) { %>
      <ul>
        <% assignments.forEach(assignment => { %>
          <li class="assignment-card">
            <p><strong>Title:</strong> <%= assignment.title %></p>
            <p><strong>Description:</strong> <%= assignment.description %></p>
            <p><strong>Due Date:</strong> <%= assignment.dueDate.toDateString() %></p>

            <!-- Buttons for Edit and Delete -->
            <div class="assignment-buttons">
              <form action="/assignments/<%= assignment._id %>/edit" method="GET">
                <button class="edit-button">Edit</button>
              </form>
              <form method="POST" action="/assignments/<%= assignment._id %>?_method=DELETE" onsubmit="return confirm('Are you sure you want to delete this assignment?');">
                <button class="delete-button">Delete</button>
              </form>
            </div>
          </li>
        <% }) %>
      </ul>
    <% } else { %>
      <p class="no-assignments">No assignments found in the collection.</p>
    <% } %>
  </section>
</main>

<%- include('../partials/footer') %>


